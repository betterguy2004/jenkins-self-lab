
# Generated by Backstage at: ${{ values.timestamp }}
---
apiVersion: storage.example.com/v1alpha1
kind: S3Bucket
metadata:
  name: ${{ values.bucketName }}
  namespace: default
  labels:
    app.kubernetes.io/name: ${{ values.bucketName }}
    app.kubernetes.io/managed-by: backstage
    backstage.io/kubernetes-id: s3-${{ values.bucketName }}
    environment: ${{ values.environment }}
  annotations:
    description: "${{ values.description }}"
spec:
  # Crossplane v2 - flat spec structure (no nested parameters)
  bucketName: ${{ values.bucketName }}
  region: ${{ values.region }}
  versioning: ${{ values.versioning }}
  encryption: ${{ values.encryption }}
  publicAccess: ${{ values.publicAccess }}
  tags:
    Name: ${{ values.bucketName }}
    Environment: ${{ values.environment }}
    ManagedBy: crossplane
    CreatedBy: backstage
  # Crossplane machinery
  compositionRef:
    name: s3bucket-composition